<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Creating Android App Shortcuts &#8211; Android Essence</title>
<meta name="description" content="Shortcuts are special actions that appear when you long press on a launcher icon. This post teaches how to implement them.">
<meta name="keywords" content="android, app-shortcuts, nougat">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@AdamMc331">
<meta name="twitter:creator" content="@AdamMc331">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Creating Android App Shortcuts">
<meta property="og:description" content="Shortcuts are special actions that appear when you long press on a launcher icon. This post teaches how to implement them.">
<meta property="og:url" content="http://localhost:4000/android/creating-android-app-shortcuts/">
<meta property="og:site_name" content="Android Essence">
<meta property="og:image" content="http://localhost:4000/images/images/logo.png">





<link rel="canonical" href="http://localhost:4000/android/creating-android-app-shortcuts/">
<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Android Essence Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"/>

<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.css">
<link rel="stylesheet" href="http://localhost:4000/assets/css/jquery.mmenu.all.css">
<link rel="stylesheet" href="http://localhost:4000/assets/css/jquery.floating-social-share.min.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script type="text/javascript" src="http://localhost:4000/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://localhost:4000/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:4000/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:4000/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/images/apple-touch-icon-144x144-precomposed.png">




</head>

<body id="post" >

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->



<div class="header-menu header-menu-top">
    <ul class="header-item-container">
      <li class="header-item-title header-toggle "><a href="#menu"><h2><i class="fa fa-bars"></i></h2></a></li>
      <li class="header-item-title">
        <a href="http://localhost:4000/">
          
            <img class="logo" src="http://localhost:4000/images/logo.png" alt="Android Essence">
          
          <a href="http://localhost:4000/" class="title"> Android Essence</a>
        </a>
      </li>
      
        
        

        
          <li class="header-item "><a href="http://localhost:4000#"><h3>Favorites</h3></a>
            <ul class="header-submenu">
              
                <li class="sub-item"><a href="http://localhost:4000/intro/code-highlighting-post/">Code Highlighter</a></li>
              
                <li class="sub-item"><a href="http://localhost:4000/intro/sample-post/">Sample Post</a></li>
              
            </ul>
          </li>
        
      
        
        

        
          <li class="header-item "><a href="http://localhost:4000/categories"><h3>Categories</h3></a>
            <ul class="header-submenu">
              
                
                  <li class="sub-item"><a href="http://localhost:4000/categories/#Android">Android</a></li>
              
                
                  <li class="sub-item"><a href="http://localhost:4000/categories/#android">android</a></li>
              
            </ul>
          </li>
        
      
        
        

        
            
                <li class="header-item "><a href="http://localhost:4000/tags"><h3>Tags</h3></a></li>
            
        
      
        
        

        
            
                <li class="header-item "><a href="http://localhost:4000/"><h3>Home</h3></a></li>
            
        
      
      <li class="header-item"><a href="http://localhost:4000/search"><h3><i class="fa fa-search"></i></h3></a></li>
    </ul>
  </div>
<div class="entry-header">
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>Creating Android App Shortcuts</h1>
      
        <h2><span class="entry-date date published updated"><time datetime="2017-04-14T00:00:00-04:00">April 14, 2017</time></span></h2>
      

      
          <p class="entry-reading-time">
            &nbsp;
          </p><!-- /.entry-reading-time -->
      
    </div><!-- /.header-title-wrap -->
  </div><!-- /.header-title -->
</div><!-- /.entry-header -->


<nav id="menu" style="display: none">
  <ul>
    
      
        <li><a href="http://localhost:4000/"><h3>Home</h3></a></li>
      
    
      
        <li><a href="http://localhost:4000/tags"><h3>Tags</h3></a></li>
      
    
      
        <li><a href="http://localhost:4000/categories"><h3>Categories</h3></a>
          <ul>
            
              
                <li><a href="http://localhost:4000/categories/#Android">Android</a></li>
            
              
                <li><a href="http://localhost:4000/categories/#android">android</a></li>
            
          </ul>
        </li>
      
    
      
        <li><a href="http://localhost:4000#"><h3>Favorites</h3></a>
          <ul>
            
              <li><a href="http://localhost:4000/intro/code-highlighting-post/">Code Highlighter</a></li>
            
              <li><a href="http://localhost:4000/intro/sample-post/">Sample Post</a></li>
            
          </ul>
        </li>
      
    
  </ul>
</nav>


  <a href="https://twitter.com/AdamMc331" class="btn btn-info button-twitter" data-show-count="false" data-size="large"><i class="fa fa-twitter"></i> <span> | Follow @AdamMc331</span></a>



<div id="main" role="main">
  <article class="hentry">
    <div class="entry-content">
        
      <h1 class="post-title entry-title">Creating Android App Shortcuts</h1>
      <p>Android app shortcuts are a special feature added in Android 7.1 (API 25). Shortcuts are special actions that appear when you long press on a launcher icon, that will trigger a specified intent. With this post you will learn how to create both static and dynamic app shortcuts. The only pre-requisite is that your app is targeting API 25 or greater.</p>

<h4 id="static-shortcuts">Static Shortcuts</h4>

<p>Static app shortcuts are shortcuts that are defined via XML. This means they are created at compile time, and will be consistent as long as your app is on the user’s device. Common use cases for this would be to launch a regularly used activity in your app that is not the launcher activity.</p>

<!--more-->

<p>Let’s first look at how we can define a shortcut in XML:</p>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;shortcuts</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;shortcut</span>
        <span class="na">android:enabled=</span><span class="s">"true"</span>
        <span class="na">android:icon=</span><span class="s">"@mipmap/ic_launcher"</span>
        <span class="na">android:shortcutId=</span><span class="s">"static_shortcut"</span>
        <span class="na">android:shortcutLongLabel=</span><span class="s">"@string/static_shortcut_long_label"</span>
        <span class="na">android:shortcutShortLabel=</span><span class="s">"@string/static_shortcut_short_label"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;intent</span>
            <span class="na">android:action=</span><span class="s">"android.intent.action.VIEW"</span>
            <span class="na">android:targetClass=</span><span class="s">"com.androidessence.appshortcuts.MainActivity"</span>
            <span class="na">android:targetPackage=</span><span class="s">"com.androidessence.appshortcuts"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/shortcut&gt;</span>
<span class="nt">&lt;/shortcuts&gt;</span>
</code></pre>
</div>

<p>The above snippet is in a file called shortcuts.xml inside the xml-v25 folder. The property names make this pretty straight forward, but here is a quick run down:</p>

<ul>
  <li>enabled - Whether or not your shortcut can be used.</li>
  <li>icon - The icon that appears on your shortcut.</li>
  <li>shortcutId - The id used to reference your shortcut in code.</li>
  <li>Long/Short label - A label that appears on your shortcut. Which label is shown is dependent on the screen size of the device being used.</li>
  <li>intent - The intent that should be launched when your shortcut is clicked. In this case, just launching our MainActivity.</li>
</ul>

<p>In order for this shortcut to appear after a long press, though, we need to add some meta-data to our launcher activity. Find your default activity in your AndroidManifest.xml file, and add this information:</p>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;meta-data</span>
   <span class="na">android:name=</span><span class="s">"android.app.shortcuts"</span>
   <span class="na">android:resource=</span><span class="s">"@xml/shortcuts"</span> <span class="nt">/&gt;</span>
</code></pre>
</div>

<p>And that’s it! You can run the app at this point and you should see a static shortcut appear.</p>

<h4 id="dynamic-shortcuts">Dynamic Shortcuts</h4>

<p>Dynamic app shortcuts are added via Java code when your launcher activity is created. As a result of this, they can be changed, disabled, and customized for the user. A use case for dynamic app shortcuts would be a messaging app - you could create a shortcut for each of your user’s top 5 contacts, for example, that open the messaging thread with the contact that was clicked.</p>

<p>Creating a dynamic shortcut is very straightforward, while you may need to tweak this to create shortcuts specific to your app. To start, just use the <a href="https://developer.android.com/reference/android/content/pm/ShortcutInfo.html">ShortcutInfo.Builder</a> class to create a shortcut like we did in XML:</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">Intent</span> <span class="n">googleIntent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">ACTION_VIEW</span><span class="o">,</span> <span class="n">Uri</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"https://www.google.com"</span><span class="o">));</span>

<span class="n">ShortcutInfo</span> <span class="n">shortcut</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ShortcutInfo</span><span class="o">.</span><span class="na">Builder</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="s">"dynamic_shortcut"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">setShortLabel</span><span class="o">(</span><span class="n">getString</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">string</span><span class="o">.</span><span class="na">dynamic_shortcut_short_label</span><span class="o">))</span>
   <span class="o">.</span><span class="na">setLongLabel</span><span class="o">(</span><span class="n">getString</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">string</span><span class="o">.</span><span class="na">dynamic_shortcut_long_label</span><span class="o">))</span>
   <span class="o">.</span><span class="na">setIcon</span><span class="o">(</span><span class="n">Icon</span><span class="o">.</span><span class="na">createWithResource</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">R</span><span class="o">.</span><span class="na">mipmap</span><span class="o">.</span><span class="na">ic_launcher</span><span class="o">))</span>
   <span class="o">.</span><span class="na">setIntent</span><span class="o">(</span><span class="n">googleIntent</span><span class="o">)</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</code></pre>
</div>

<p>Then, we can get our <a href="https://developer.android.com/reference/android/content/pm/ShortcutManager.html">ShortcutManager</a> and add the shortcut:</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">ShortcutManager</span> <span class="n">shortcutManager</span> <span class="o">=</span> <span class="n">getSystemService</span><span class="o">(</span><span class="n">ShortcutManager</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<span class="n">shortcutManager</span><span class="o">.</span><span class="na">addDynamicShortcuts</span><span class="o">(</span><span class="n">Collections</span><span class="o">.</span><span class="na">singletonList</span><span class="o">(</span><span class="n">shortcut</span><span class="o">));</span>
</code></pre>
</div>

<p>Now you’ve created a dynamic app shortcut, too! If you run the app again, you will see this shortcut when you long press on the launcher icon as well. One thing to note, is that the icon we just made was inside the onCreate() method of our activity. That means it won’t appear right after install, but it will appear after the user opens the app for the first time.</p>

<h4 id="continued-development">Continued Development</h4>

<p>This was just a quick starting guide on how to create shortcuts, but you may have more questions. How do I change them? How do I disable them? What happens if a user pins a shortcut? Can I track analytics on shortcuts?</p>

<p>Many of those questions can be answered in the <a href="https://developer.android.com/guide/topics/ui/shortcuts.html">official documentation</a> for App Shortcuts.</p>

<p><a href="https://twitter.com/calren24">Caren Chang</a> gave an excellent presentation on app shortcuts at Droidcon Boston, but the video is not up at the time of posting this. I will try to update the blog post when it is.</p>

<p>The sample application used for this blog post can be found on <a href="https://github.com/androidessence/App-Shortcuts">GitHub</a>.</p>

      <footer class="entry-meta">
        <span class="entry-tags"><a href="http://localhost:4000/tags#android" title="Pages tagged android" class="tag"><span class="term">android</span></a><a href="http://localhost:4000/tags#app-shortcuts" title="Pages tagged app-shortcuts" class="tag"><span class="term">app-shortcuts</span></a><a href="http://localhost:4000/tags#nougat" title="Pages tagged nougat" class="tag"><span class="term">nougat</span></a></span>
        <span>Updated on <span class="entry-date date updated"><time datetime="2017-04-14">April 14, 2017</time></span></span>
        
        <span class="author vcard"><span class="fn">Adam McNeilly</span></span>
        <div class="social-share">
  <ul class="socialcount socialcount-small inline-list">
    <li class="facebook"><a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/android/creating-android-app-shortcuts/" title="Share on Facebook"><span class="count"><i class="fa fa-facebook-square"></i> Like</span></a></li>
    <li class="twitter"><a href="https://twitter.com/intent/tweet?text=http://localhost:4000/android/creating-android-app-shortcuts/" title="Share on Twitter"><span class="count"><i class="fa fa-twitter-square"></i> Tweet</span></a></li>
    <li class="googleplus"><a href="https://plus.google.com/share?url=http://localhost:4000/android/creating-android-app-shortcuts/" title="Share on Google Plus"><span class="count"><i class="fa fa-google-plus-square"></i> +1</span></a></li>
  </ul>
</div><!-- /.social-share -->

      </footer>
    </div><!-- /.entry-content -->
    <div class="read-more">
  <div class="read-more-header">
    <a href="http://adammcneilly.com" class="read-more-btn">About the Author</a>
  </div><!-- /.read-more-header -->
  <div class="read-more-content author-info">
    <h3>Adam McNeilly</h3>
    <div class="author-container">
      <img class="author-img" src="http://localhost:4000/images/avatar.jpg" alt="Adam McNeilly" />
      <div class="author-bio">Computer Engineering graduate from Oakland University and lover of all things Android.</div>
    </div>
    <div class="author-share">
      <ul class="list-inline social-buttons">
        
          <li><a href="https://github.com/AdamMc331" target="_blank"><i class="fa fa-github fa-fw"></i></a></li>
        
          <li><a href="https://blinkedin.com/in/AdamMc331" target="_blank"><i class="fa fa-linkedin fa-fw"></i></a></li>
        
      </ul>
      
        <a aria-label="Follow @AdamMc331 on GitHub" data-style="mega" href="https://github.com/AdamMc331" class="github-button">Follow @AdamMc331</a>
      
      <br>
      
        <a href="https://twitter.com/AdamMc331" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @AdamMc331</a>
      
    </div>
  </div>
</div>

    
    <div class="read-more">
  
    <div class="read-more-header">
      <a href="http://localhost:4000/android/pinchzoomtextview-library-released/" class="read-more-btn">Read More</a>
    </div><!-- /.read-more-header -->
    <div class="read-more-content">
      <h3><a href="http://localhost:4000/android/pinchzoomtextview-library-released/" title="PinchZoomTextView Library Released">PinchZoomTextView Library Released</a></h3>
      <p>PinchZoomTextView is a library that allows you to increase/decrease the font size with a two finger gesture. <a href="http://localhost:4000/android/pinchzoomtextview-library-released/">Continue reading</a></p>
    </div><!-- /.read-more-content -->
  
  <div class="read-more-list">
    
      <div class="list-item">
        <h4><a href="http://localhost:4000/android/getting-started-with-retrofit/" title="Getting Started With Retrofit In Android">Getting Started With Retrofit In Android</a></h4>
        <span>Published on November 05, 2016</span>
      </div><!-- /.list-item -->
    
      <div class="list-item">
        <h4><a href="http://localhost:4000/android/recyclerviewutils-library-released/" title="RecyclerViewUtils Library Released">RecyclerViewUtils Library Released</a></h4>
        <span>Published on August 31, 2016</span>
      </div><!-- /.list-item -->
    
  </div><!-- /.read-more-list -->
</div><!-- /.read-more -->
  </article>
</div><!-- /#main -->

<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript">window.jQuery || document.write('<script type="text/javascript" src="http://localhost:4000/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script type="text/javascript" src="http://localhost:4000/assets/js/scripts.min.js"></script>
<script type="text/javascript" async defer id="github-bjs" src="https://buttons.github.io/buttons.js"></script>
<script type="text/javascript">!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>








<script type="text/javascript">
    sharing();
</script>



<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2017 Adam McNeilly. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://github.com/aron-bordin/neo-hpstr-jekyll-theme" rel="nofollow">Neo-HPSTR Theme</a>.</span>

  </footer>
</div><!-- /.footer-wrapper -->

</body>
</html>
